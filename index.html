<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Оракул</title>
<style>
body {
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', sans-serif;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-image: url('background.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

header {
  position: fixed;
  top: 20px;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1000;
}

header .logo { height:40px; width:auto; object-fit:contain; margin-bottom:5px; }
header .name { height:30px; width:auto; object-fit:contain; }
#buildNumber { color:white; text-shadow:1px 1px 2px black; margin:5px 0; font-size:14px; }

.icons { display:grid; grid-template-columns:repeat(2,120px); grid-gap:20px; place-items:center; position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); }
.icons img { width:100px; height:100px; object-fit:contain; cursor:pointer; transition:transform 0.3s; }
.icons img:hover { transform:scale(1.1); }

.screen { display:none; flex:1; flex-direction:column; align-items:center; justify-content:center; text-align:center; }

.zodiac-grid { display:grid; grid-template-columns:repeat(4,80px); grid-gap:10px; justify-content:center; }
.zodiac-grid img { width:80px; height:80px; cursor:pointer; object-fit:contain; }

#zodiacDetailScreen img { width:150px; height:150px; object-fit:contain; margin-bottom:20px; }

.prediction-text { font-size:18px; font-weight:bold; color:white; text-shadow:0 2px 8px rgba(0,0,0,0.8); background-color: rgba(0,0,0,0.5); border-radius:10px; padding:10px; max-width:90%; max-height:200px; overflow-y:auto; opacity:0; transition:opacity 0.8s ease; }

.prediction-text.show { opacity:1; }

#backButton { position: fixed; top: 15px; left: 15px; width: 40px; height: 40px; background:none; border:none; padding:0; display:none; z-index:2000; }
#backButton img { width:100%; height:100%; object-fit:contain; cursor:pointer; }

@media (max-width:350px){ .zodiac-grid { grid-template-columns:repeat(3,70px); } .zodiac-grid img { width:70px; height:70px; } #zodiacDetailScreen img { width:120px; height:120px; } }
</style>
</head>
<body>

<header>
  <img src="logo.png" alt="Логотип" class="logo">
  <img src="name.png" alt="Название" class="name">
  <p id="buildNumber">Сборка 10</p>
</header>

<!-- Главный экран -->
<div class="icons" id="mainScreen">
  <img src="sphere.png" alt="Шар" onclick="showSphereScreen()">
  <img src="cookie.png" alt="Печенье" onclick="showCookieScreen()">
  <img src="tarot.png" alt="Таро" onclick="showTarotScreen()">
  <img src="zodiac.png" alt="Зодиак" onclick="showZodiacScreen()">
</div>

<!-- Экран Зодиак -->
<div class="screen" id="zodiacScreen">
  <div class="zodiac-grid" id="zodiacGrid"></div>
</div>

<!-- Экран с выбранным знаком -->
<div class="screen" id="zodiacDetailScreen">
  <img id="zodiacImg" src="" alt="Знак">
  <div class="prediction-text" id="zodiacText"></div>
</div>

<!-- Кнопка назад -->
<button id="backButton" onclick="goBack()"><img src="back.png" alt="Назад"></button>

<script>
let zodiacPredictions = [];

fetch('zodiac_predictions.json').then(res=>res.json()).then(data=>zodiacPredictions=data).catch(err=>console.error(err));

const mainScreen = document.getElementById("mainScreen");
const zodiacScreen = document.getElementById("zodiacScreen");
const zodiacGrid = document.getElementById("zodiacGrid");
const zodiacDetailScreen = document.getElementById("zodiacDetailScreen");
const zodiacImg = document.getElementById("zodiacImg");
const zodiacText = document.getElementById("zodiacText");
const backBtn = document.getElementById("backButton");

// Заполняем сетку
for(let i=1;i<=12;i++){
  const img = document.createElement("img");
  img.src = `Group (${i}).png`;
  img.alt = `Знак ${i}`;
  img.onclick = ()=>openZodiacDetail(i-1);
  zodiacGrid.appendChild(img);
}

function showZodiacScreen(){
  mainScreen.style.display="none";
  zodiacScreen.style.display="flex";
  backBtn.style.display="block";
  zodiacText.textContent='';
  zodiacText.classList.remove("show");
}

function openZodiacDetail(index){
  zodiacScreen.style.display="none";
  zodiacDetailScreen.style.display="flex";
  zodiacImg.src = `Group (${index+1}).png`;
  zodiacText.textContent = zodiacPredictions[index] ? zodiacPredictions[index].text : "Прогноз недоступен";
  zodiacText.classList.add("show");
}

function goBack(){
  cookieScreen.style.display="none";
  sphereScreen.style.display="none";
  tarotScreen.style.display="none";
  zodiacScreen.style.display="none";
  zodiacDetailScreen.style.display="none";
  backBtn.style.display="none";
  mainScreen.style.display="grid";
}
</script>
</body>
</html>
